<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Code Crunch - Volunteer Guide</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body{
      font-family:'Google Sans','Roboto',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
      background:#f8f9fa; min-height:100vh; color:#202124;
    }
    .navbar{ background:#fff; border-bottom:1px solid #e8eaed; padding:12px 0; position:sticky; top:0; z-index:1000;}
    .nav-container{ max-width:1200px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; padding:0 20px;}
    .nav-brand{ font-size:22px; font-weight:500; color:#4285f4;}
    .nav-links{ display:flex; gap:30px;}
    .nav-link{ color:#5f6368; text-decoration:none; font-weight:400; font-size:14px; padding:8px 16px; border-radius:4px; transition:.2s;}
    .nav-link:hover{ color:#1a73e8; background:#f1f3f4;}

    .timezone-section{ background:#fff; border-bottom:1px solid #e8eaed; padding:24px 20px; margin-bottom:32px;}
    .timezone-header{ text-align:center; margin-bottom:25px;}
    .timezone-header h2{ color:#202124; font-size:28px; font-weight:400; margin:0 0 20px;}
    .timezone-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(180px,1fr)); gap:20px; max-width:1200px; margin:0 auto;}
    .timezone-item{ background:#fff; border:1px solid #dadce0; border-radius:8px; padding:16px; text-align:center; transition:.2s;}
    .timezone-item:hover{ box-shadow:0 1px 6px rgba(32,33,36,.28); border-color:#dadce0;}
    .timezone-flag{ font-size:20px; margin-bottom:8px;}
    .timezone-time{ font-size:16px; font-weight:500; color:#1a73e8; margin-bottom:4px; font-family:'Roboto Mono',monospace;}
    .timezone-location{ color:#5f6368; font-size:12px;}

    .container{ max-width:1200px; margin:0 auto; padding:20px;}
    .header{ text-align:center; color:#202124; margin-bottom:48px;}
    .header h1{ font-size:32px; font-weight:400; margin-bottom:8px; color:#202124;}
    .header p{ font-size:16px; color:#5f6368; line-height:1.5;}

    .volunteer-cards{ display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:30px; margin-bottom:50px;}
    .card{ background:#fff; border:1px solid #dadce0; border-radius:8px; padding:24px; transition:.2s; position:relative; overflow:hidden;}
    .card:hover{ box-shadow:0 2px 10px rgba(32,33,36,.28); border-color:#4285f4;}
    .card-icon{ width:48px; height:48px; border-radius:50%; margin:0 auto 16px; display:flex; align-items:center; justify-content:center; font-size:20px; color:#fff; background:#1a73e8;}
    .card h3{ font-size:20px; color:#202124; margin-bottom:8px; text-align:center; font-weight:500;}
    .card p{ color:#5f6368; line-height:1.5; margin-bottom:16px; text-align:center; font-size:14px;}
    .card-button{ display:block; width:100%; padding:12px 24px; background:#1a73e8; color:#fff; text-decoration:none; border-radius:4px; text-align:center; font-weight:500; font-size:14px; transition:.2s; border:none; cursor:pointer;}
    .card-button:hover{ background:#1557b0; box-shadow:0 1px 3px rgba(32,33,36,.28);}

    .hackathons-section{ background:#fff; border:1px solid #dadce0; border-radius:8px; padding:32px;}
    .hackathons-section h2{ color:#202124; font-size:28px; font-weight:500; margin-bottom:32px; text-align:center; position:relative;}
    .section-header{ margin-bottom:24px;}
    .section-header h3{ color:#202124; font-size:20px; font-weight:500; margin-bottom:4px;}
    .section-header p{ color:#5f6368; font-size:14px; margin:0;}

    .hackathons-list{ display:grid; gap:15px;}
    .hackathon-item{ background:#fff; border:1px solid #dadce0; border-radius:8px; padding:20px; display:grid; grid-template-columns:1fr auto auto auto; gap:16px; align-items:center; transition:.2s;}
    .hackathon-item:hover{ box-shadow:0 1px 6px rgba(32,33,36,.28); border-color:#4285f4;}
    .hackathon-info{ display:flex; flex-direction:column; gap:4px;}
    .hackathon-name{ font-weight:500; color:#202124; font-size:16px; margin-bottom:4px;}
    .hackathon-date{ color:#5f6368; font-size:13px;}
    .hackathon-mode{ padding:4px 8px; border-radius:4px; font-size:12px; font-weight:500; text-transform:uppercase; letter-spacing:.3px;}
    .mode-virtual{ background:#e8f0fe; color:#1a73e8; border:1px solid #d2e3fc;}
    .mode-person{ background:#e6f4ea; color:#137333; border:1px solid #ceead6;}
    .mode-hybrid{ background:#fff4e5; color:#ea8600; border:1px solid #fde68a;}
    .mode-tbd{ background:#f3f4f6; color:#6b7280; border:1px solid #d1d5db;}

    .hackathon-countdown{ background:#f8f9fa; color:#202124; padding:6px 12px; border-radius:4px; font-size:12px; font-weight:500; text-align:center; min-width:80px;}
    .countdown-upcoming{ background:#e8f0fe; color:#1a73e8; border:1px solid #d2e3fc;}
    .countdown-past{ background:#fce8e6; color:#d33b01; border:1px solid #f9dedc;}

    .hackathon-link{ background:#1a73e8; color:#fff; padding:8px 16px; border-radius:4px; text-decoration:none; font-weight:500; font-size:14px; transition:.2s;}
    .hackathon-link:hover{ background:#1557b0; box-shadow:0 1px 3px rgba(32,33,36,.28);}

    .cc-blue{ background:#1a73e8;}
    .footer{ color:#fff; padding:32px 0 48px;}
    .footer-container{ max-width:1200px; margin:0 auto; padding:0 20px;}
    .footer-grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:24px; margin-bottom:32px;}
    .footer h3{ font-size:18px; font-weight:500; margin-bottom:16px; color:#fff;}
    .footer p{ font-size:14px; opacity:.8; margin-bottom:16px; line-height:1.5;}
    .footer ul{ list-style:none; padding:0; margin:0;}
    .footer li{ margin-bottom:8px;}
    .footer a{ color:#fff; text-decoration:none; font-size:14px; opacity:.8; transition:opacity .2s;}
    .footer a:hover{ opacity:1;}
    .social-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-top:16px;}
    .social-link{ display:flex; flex-direction:column; align-items:center; color:#fff; text-decoration:none; padding:8px; transition:color .2s;}
    .social-link:hover{ color:#fbbf24;}
    .social-link i{ font-size:18px; margin-bottom:4px;}
    .social-link span{ font-size:11px; text-align:center;}
    .footer-bottom{ margin-top:32px; padding-top:24px; border-top:1px solid rgba(255,255,255,.2); text-align:center;}
    .footer-bottom p{ font-size:14px; opacity:.8; margin-bottom:8px;}
    .footer-bottom .credits{ font-size:12px; opacity:.6;}
    .footer-bottom .credits a{ color:#7dd3fc; text-decoration:none; font-weight:500;}
    .footer-bottom .credits a:hover{ color:#bae6fd;}

    /* policy note */
    .policy-note {
      background:#fff7ed; border:1px solid #fde68a; color:#8a4b00;
      border-radius:8px; padding:14px 16px; margin:0 0 20px 0;
      display:grid; grid-template-columns:auto 1fr; gap:12px; align-items:start; font-size:14px;
    }
    .policy-note .icon { font-size:18px; line-height:1; }
    .policy-note strong { font-weight:600; }

    /* --- tiny helpers for the new cards --- */
    .card .subtext{ color:#6b7280; font-size:12px; margin-top:8px; text-align:center;}
    .badge{ display:inline-block; padding:4px 8px; border-radius:999px; font-size:11px; font-weight:600; }
    .badge-live{ background:#e6f4ea; color:#137333; border:1px solid #ceead6; }
    .badge-warn{ background:#fff4e5; color:#b45309; border:1px solid #fde68a; }
    .badge-lock{ background:#f3f4f6; color:#374151; border:1px solid #d1d5db; }
    .card .small-note{ font-size:12px; color:#5f6368; margin-top:10px; line-height:1.45; text-align:left; }

    @media (max-width:768px){
      .nav-container{ flex-direction:column; gap:12px;}
      .nav-links{ flex-wrap:wrap; justify-content:center; gap:8px;}
      .nav-link{ font-size:11px; padding:6px 10px; white-space:nowrap;}
      .timezone-grid{ grid-template-columns:repeat(2,1fr); gap:12px;}
      .timezone-item{ padding:12px;}
      .timezone-location{ font-size:10px;}
      .header h1{ font-size:24px;}
      .header p{ font-size:14px; padding:0 10px;}
      .volunteer-cards{ gap:20px;}
      .hackathon-item{ grid-template-columns:1fr; text-align:center; gap:10px; padding:16px;}
      .hackathon-info{ text-align:center; margin-bottom:8px;}
      .hackathon-name{ font-size:14px; line-height:1.3;}
      .hackathon-date{ font-size:12px;}
      .hackathon-mode,.hackathon-countdown{ font-size:11px; padding:4px 8px;}
      .hackathon-link{ font-size:12px; padding:8px 12px;}
      .card{ padding:18px;}
      .card h3{ font-size:18px;}
      .card p{ font-size:13px;}
      .footer-grid{ grid-template-columns:1fr; gap:20px;}
      .social-grid{ grid-template-columns:repeat(2,1fr);}
    }
    @media (max-width:480px){
      .nav-link{ font-size:10px; padding:5px 8px;}
      .timezone-grid{ grid-template-columns:1fr; gap:10px;}
      .timezone-item{ padding:10px;}
      .header h1{ font-size:20px;}
      .hackathons-section{ padding:20px 16px;}
      .hackathon-item{ padding:12px; gap:8px;}
      .container{ padding:16px;}
    }
  </style>
</head>
<body>
  <!-- Navigation Header -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <a href="https://codecrunchglobal.vercel.app" target="_blank" rel="noopener"><strong>Code Crunch</strong></a>
      </div>
      <div class="nav-links">
        <a href="https://colorstackatfiu.vercel.app/" class="nav-link">ColorStack at FIU</a>
        <a href="https://cahsiatfiu.vercel.app/" class="nav-link">CAHSI at FIU</a>
        <a href="https://gdgatfiu.vercel.app/" class="nav-link">Google Developer Group at FIU</a>
        <a href="https://raspberrypicrunch.vercel.app/" class="nav-link">Raspberry Pi Code Crunch</a>
        <a href="https://codecrunchglobal.vercel.app/hackuniversitydonate.html" class="nav-link">Support Us</a>
      </div>
    </div>
  </nav>

  <!-- Time Zone Section -->
  <div class="timezone-section">
    <div class="timezone-header"><h2>🏆 Hackathon HQ</h2></div>
    <div class="timezone-grid">
      <div class="timezone-item">
        <div class="timezone-flag">🇺🇸 - HQ</div>
        <div class="timezone-time" id="miami-time">--:--:--</div>
        <div class="timezone-location" id="miami-label">Miami, FL (ET)</div>
      </div>
      <div class="timezone-item">
        <div class="timezone-flag">🇪🇺</div>
        <div class="timezone-time" id="london-time">--:--:--</div>
        <div class="timezone-location">London (GMT)</div>
      </div>
      <div class="timezone-item">
        <div class="timezone-flag">🌍</div>
        <div class="timezone-time" id="lagos-time">--:--:--</div>
        <div class="timezone-location">Lagos (WAT)</div>
      </div>
      <div class="timezone-item">
        <div class="timezone-flag">🌏</div>
        <div class="timezone-time" id="tokyo-time">--:--:--</div>
        <div class="timezone-location">Tokyo (JST)</div>
      </div>
      <div class="timezone-item">
        <div class="timezone-flag">🇦🇺</div>
        <div class="timezone-time" id="sydney-time">--:--:--</div>
        <div class="timezone-location">Sydney (AEDT)</div>
      </div>
      <div class="timezone-item">
        <div class="timezone-flag">🇮🇳</div>
        <div class="timezone-time" id="mumbai-time">--:--:--</div>
        <div class="timezone-location">Mumbai (IST)</div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="header">
      <h1>VOLUNTEER GUIDE</h1>
      <p>Join the Code Crunch volunteer collective and help shape the future of CS students during the school year and hackathons. Complete the volunteer steps to get confirmed and start your mission.</p>
    </div>

    <!-- FOUR CARDS -->
    <div class="volunteer-cards">

      <!-- Form No. 1 -->
      <div class="card">
        <div class="card-icon">🎓</div>
        <h3>Form No. 1 — Mentors & Workshop Hosts</h3>
        <p>Apply to mentor and/or host a technical or non-technical workshop. We review rolling submissions.</p>
        <a class="card-button" href="https://codecrunchvolunteerform-no1.vercel.app/" target="_blank" rel="noopener">
          Open Form No. 1
        </a>
        <div class="small-note">
          <strong>Note:</strong> This form is updated monthly based on each event’s needs and seat availability.
          Submitting the form <strong>does not guarantee</strong> a volunteer opportunity. If there is an opening that matches your profile,
          <strong>you will be contacted by email</strong> with next steps.
        </div>
      </div>

      <!-- Donations & Event Registration -->
<div class="card">
  <div class="card-icon"><i class="fa-solid fa-file-lines"></i></div>
  <h3>Form No. 2 — Volunteer Donations & Event Registration</h3>
  <p>Support the monthly hackathon and register as a volunteer supporter.</p>
  <p><strong>Donors with dual roles</strong> (Judge + Mentor)</p>
  <!-- TODO: Replace with your live Donations & Registration form URL -->
  <a class="card-button" href="https://codecrunchglobal.vercel.app/hackathonvolunteer-form2.html" target="_blank" rel="noopener">
    Open Forms no2
  </a>
  
  <!-- Added link to Code Crunch Donations Guide -->
  <p style="margin-top: 10px;">
    📘 <a href="https://codecrunchglobal.vercel.app/hackathonvolunteer-donationguide.html" target="_blank" rel="noopener">
      View the Code Crunch Donations Guide
    </a>
  </p>

  <div class="small-note">
    <li>We host <strong>one hackathon each month</strong>. New event registration form will be added 2 days after the current event ends.</li>
    <li>Each event will have a Form No. 2 for donations and registrations.</li>
    <li>Responses for <strong>Donations & Registration form</strong> are valid only if they are completed within the same time frame of each Form No. 2 "Volunteer Donations & Event Registration" form is open.</li>
    <li>This form is for volunteers interested in becoming <strong>Donors with dual roles</strong> (Judge + Mentor).</li>
  </div>
</div>


       <!-- Hackathon Evaluation Form no3  -->
      <div class="card">
        <div class="card-icon"><i class="fa-solid fa-file-lines"></i></div>
        <h3>Form No. 3 — Hackathon Evaluation Form Forms </h3>
        <p><strong>Donors with dual roles</strong> (Judge + Mentor)</p>
        <!-- TODO: Replace with your live Donations & Registration form URL -->
        <a class="card-button" href="https://codecrunchglobal.vercel.app/hackathonvolunteer-form3.html" target="_blank" rel="noopener">
          Open Forms no3 
        </a>
        <div class="small-note">
          <li>We host <strong>one hackathon each month</strong>. Access to each evaluation form  will be granted 1hr before or when the current event starts.</li>
          <li>Each event will have a Form No. 3 for hackathon evaluation.</li>
          <li>Responses for <strong>Hackathon Evaluation form</strong> are valid only if they are completed within the evaluation time which is the time frame of each Form No. 3 "Hackathon Evaluation" form is open [Closing event ceremony & Live Demos, see each event agenda for details].</li>
          <li>This form is for volunteers registered as <strong>Donors with dual roles</strong> (Judge + Mentor).</li>

          Judging evaluation forms (access granted only to volunteers registered by each event).
        </div>
      </div>


            <!-- discord -->
      <div class="card">
        <div class="card-icon"><i class="fa-solid fa-table-list"></i></div>
        <h3>Discord</h3>
        <p>Access is granted to respondents of Formn no2 using the same Google account they used to register.</p>
        <!-- TODO: Replace with your restricted Google Doc/Drive link -->
        <a class="card-button" href="https://codecrunchglobal.vercel.app/hackathonvolunteer-logindiscord.html" target="_blank" rel="noopener">
          Access Discord server
        </a>

      </div>
    
            <!-- Volunteer Responses (restricted) -->
      <div class="card">
        <div class="card-icon"><i class="fa-solid fa-table-list"></i></div>
        <h3>Forms Volunteer Responses <br> (Use Ticket ID Log)</h3>
        <p>Access is granted to respondents of Formn no2 using the same Google account they used to register.</p>
        <!-- TODO: Replace with your restricted Google Doc/Drive link -->
        <a class="card-button" href="#" target="_blank" rel="noopener">
          Open Responses (Restricted)
        </a>
        <ul class="small-note" style="margin-left:18px;">
          <!-- <li>Form No. 1 responses</li> -->
          <li>Form No. 2 — Volunteer Donations & Event Registration responses.</li>
          <li>There will be tabs for each Form No. 2 per event, e.g., “Form No. 2 — Hack Nov 2025” </li>
          <li>Certificates list (updated after each event)</li>
        </ul>
      </div>



            <!-- Certificates -->
      <div class="card">
        <div class="card-icon"><i class="fa-solid fa-certificate"></i>  </div>
         
        <h3>Certificates</h3>
        <p>Access volunteer participation certificates.</p>
        <!-- TODO: Replace with your restricted Google Doc/Drive link -->
        <a class="card-button" href="https://codecrunchglobal.vercel.app/hackathonvolunteer-certificates.html" target="_blank" rel="noopener">
          Open Certificates
        </a>
        
      </div>

    </div>

    <!-- HACK OPERATIONS / EVENTS -->
    <div class="hackathons-section">
      <h2>🚀 HACK OPERATIONS</h2>

      <div class="policy-note" role="note" aria-label="Volunteer policy">
        <div class="icon">📝</div>
        <div>
          <strong>Remote volunteers</strong> are eligible to support <strong>in-person events</strong>.<br>
          <strong>Preference will be given to in-person volunteers</strong> if the volunteer pool for an event reaches capacity.
        </div>
      </div>

      <div class="section-header">
        <h3>🚀 ACTIVE MISSIONS</h3>
        <p>Upcoming events sorted by date</p>
      </div>
      <div class="hackathons-list" id="upcoming-events"></div>

      <div class="section-header" style="margin-top:48px;">
        <h3>📚 PAST EVENTS</h3>
        <p>Completed hackathons and events</p>
      </div>
      <div class="hackathons-list" id="past-events"></div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="cc-blue footer">
    <div class="footer-container">
      <div class="footer-grid">
        <div>
          <h3>Hack University <span>👨🏻‍💻 👨🏼‍💻 👨🏽‍💻 👨🏾‍💻 👨🏿‍💻👩🏻‍💻 👩🏼‍💻 👩🏽‍💻 👩🏾‍💻 👩🏿‍💻🧑🏻‍💻 🧑🏼‍💻 🧑🏽‍💻 🧑🏾‍💻 🧑🏿‍💻</span></h3>
          <p>A collaborative effort uniting multiple student organizations and global communities with a mission to empower the next generation of innovators, developers, and leaders.</p>
          <p><a href="#">HackUniversity.vercel.app</a></p>
          <div>
            <h4 style="font-size:14px;font-weight:500;margin-bottom:12px;">Connect With Us:</h4>
            <div class="social-grid">
              <a href="#" class="social-link"><i class="fab fa-linkedin"></i><span>LinkedIn</span></a>
              <a href="#" class="social-link"><i class="fab fa-instagram"></i><span>Instagram</span></a>
              <a href="#" class="social-link"><i class="fab fa-github"></i><span>GitHub</span></a>
              <a href="#" class="social-link"><i class="fab fa-youtube"></i><span>YouTube</span></a>
              <a href="#" class="social-link"><i class="fab fa-discord"></i><span>Discord</span></a>
              <a href="#" class="social-link"><i class="far fa-calendar-alt"></i><span>Calendar</span></a>
            </div>
          </div>
        </div>
        <div>
          <h3>Quick Links</h3>
          <ul>
            <li><a href="#">Mission</a></li>
            <li><a href="#">Events</a></li>
            <li><a href="#">Hackathons</a></li>
            <li><a href="#">Membership</a></li>
            <li><a href="#">Join E-Board</a></li>
            <li><a href="#">Resources</a></li>
            <li><a href="#">Join Discord</a></li>
          </ul>
        </div>
        <div>
          <h3>Contact</h3>
          <div style="font-size:14px;opacity:.8;">
            Miami, FL<br/>
            <a href="mailto:codecrunchclub@gmail.com">codecrunchclub@gmail.com</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>© 2025 Hack University. All rights reserved.</p>
        <div class="credits">
          Built with ❤️ for the tech community by <a href="#" target="_blank">Brian Bazurto</a> | Powered by innovation and collaboration
        </div>
      </div>
    </div>
  </footer>

  <script>
    /* ---------- Time helpers ---------- */
    function asLocalDate(ymd){
      const [y,m,d] = ymd.split('-').map(Number);
      return new Date(y, m-1, d);
    }
    function nowInMiami(){
      return new Date(new Date().toLocaleString('en-US',{ timeZone:'America/New_York'}));
    }
    function formatDateMiami(dateStr){
      const d = asLocalDate(dateStr);
      return d.toLocaleDateString('en-US',{
        year:'numeric', month:'long', day:'numeric', timeZone:'America/New_York'
      });
    }
    function getETAbbrev(date = nowInMiami()){
      const miami = new Date(date.toLocaleString('en-US',{ timeZone:'America/New_York'}));
      return miami.getTimezoneOffset() === 240 ? 'EDT' : 'EST'; // 240=EDT, 300=EST
    }

    // Status helper (X days -> Live -> Completed), inclusive of end date
    function getEventStatus(startDateStr, endDateStr) {
      const start = asLocalDate(startDateStr); start.setHours(0,0,0,0);
      const end   = asLocalDate(endDateStr);   end.setHours(23,59,59,999);

      const now = nowInMiami();
      const today = new Date(now); today.setHours(0,0,0,0);

      if (today < start) {
        const diffDays = Math.ceil((start - today) / (1000*60*60*24));
        return { text: `${diffDays} days`, isPast: false, isLive: false };
      }
      if (now <= end) {
        return { text: 'Live', isPast: false, isLive: true };
      }
      return { text: 'Completed', isPast: true, isLive: false };
    }

    /* ---------- Hackathon data ---------- */
    const hackathons = [
      { name:'🏙️ 305 Hackathon: Fall 2025 edition', startDate:'2025-09-19', endDate:'2025-09-21', modality:'in-person', url:'https://305hackfall2025.vercel.app' },
      { name:'👑 EmpowHER Hackathon 2025',        startDate:'2025-10-13', endDate:'2025-10-20', modality:'virtual',   url:'https://empowherhack2025.vercel.app/' },
      { name:'👑 EmpowHER HackDAY 2025',          startDate:'2025-10-18', endDate:'2025-10-18', modality:'in-person', url:'https://empowherhackdayfall25.vercel.app/' },
      { name:'🎆 CodeFest 2025',                   startDate:'2025-12-08', endDate:'2025-12-15', modality:'virtual',   url:'https://codefesthack2025.vercel.app/' },
      { name:'🔥 HackFiesta Miami 2026',           startDate:'2026-03-09', endDate:'2026-03-15', modality:'virtual',   url:'https://hackfiestamiami2026.vercel.app/' },
      { name:'⚡ 305 Hackathon: Spring edition 2026', startDate:'2026-03-20', endDate:'2026-03-22', modality:'tbd',    url:'https://305hackspring2026.vercel.app/' },
      { name:'🌟 SummerCodeX 2025',               startDate:'2025-07-21', endDate:'2025-07-28', modality:'virtual',   url:'#' },
      { name:'⛈️ CodeStorm 2025',                 startDate:'2025-05-19', endDate:'2025-05-26', modality:'virtual',   url:'#' },
      { name:'⚡ 305 Hackathon: Spring 2025 edition', startDate:'2025-03-29', endDate:'2025-03-31', modality:'hybrid', url:'#' },
      { name:'🔥 HackFiesta Miami 2025',           startDate:'2025-03-21', endDate:'2025-03-23', modality:'virtual',   url:'#' }
    ];

    function getModalityClass(modality){
      switch(modality.toLowerCase()){
        case 'virtual': return 'mode-virtual';
        case 'in-person': return 'mode-person';
        case 'hybrid': return 'mode-hybrid';
        case 'tbd': return 'mode-tbd';
        default: return 'mode-tbd';
      }
    }
    function getModalityText(modality){
      switch(modality.toLowerCase()){
        case 'in-person': return 'In Person';
        case 'virtual': return 'Virtual';
        case 'hybrid': return 'Hybrid';
        case 'tbd': return 'TBD';
        default: return 'TBD';
      }
    }

    function renderHackathons(){
      const now = nowInMiami();
      const upcoming = [];
      const past = [];

      const sorted = [...hackathons].sort(
        (a,b) => asLocalDate(a.startDate) - asLocalDate(b.startDate)
      );

      sorted.forEach(h => {
        const startDate = asLocalDate(h.startDate);
        const endDate   = asLocalDate(h.endDate);
        const status    = getEventStatus(h.startDate, h.endDate);

        const range = (h.startDate === h.endDate)
          ? `${formatDateMiami(h.startDate)}`
          : `${formatDateMiami(h.startDate)} - ${formatDateMiami(h.endDate)}`;

        const tz = getETAbbrev();
        const dateLine = `${range} (${tz})`;

        const html = `
          <div class="hackathon-item">
            <div class="hackathon-info">
              <div class="hackathon-name">${h.name}</div>
              <div class="hackathon-date">${dateLine}</div>
            </div>
            <div class="hackathon-mode ${getModalityClass(h.modality)}">${getModalityText(h.modality)}</div>
            <div class="hackathon-countdown ${status.isPast ? 'countdown-past' : 'countdown-upcoming'}">${status.text}</div>
            <a href="${h.url}" class="hackathon-link" target="_blank" rel="noopener">Website</a>
          </div>
        `;

        if (endDate < now) { past.push(html); } else { upcoming.push(html); }
      });

      document.getElementById('upcoming-events').innerHTML = upcoming.join('');
      document.getElementById('past-events').innerHTML = past.join('');
    }

    // Live clocks
    function updateTimes(){
      const now = new Date();

      const miami = new Date(now.toLocaleString('en-US',{ timeZone:'America/New_York'}));
      document.getElementById('miami-time').textContent = miami.toTimeString().split(' ')[0];
      const label = document.getElementById('miami-label');
      if (label) label.textContent = `Miami, FL (${getETAbbrev()})`;

      const london = new Date(now.toLocaleString('en-US',{ timeZone:'Europe/London'}));
      document.getElementById('london-time').textContent = london.toTimeString().split(' ')[0];

      const lagos = new Date(now.toLocaleString('en-US',{ timeZone:'Africa/Lagos'}));
      document.getElementById('lagos-time').textContent = lagos.toTimeString().split(' ')[0];

      const tokyo = new Date(now.toLocaleString('en-US',{ timeZone:'Asia/Tokyo'}));
      document.getElementById('tokyo-time').textContent = tokyo.toTimeString().split(' ')[0];

      const sydney = new Date(now.toLocaleString('en-US',{ timeZone:'Australia/Sydney'}));
      document.getElementById('sydney-time').textContent = sydney.toTimeString().split(' ')[0];

      const mumbai = new Date(now.toLocaleString('en-US',{ timeZone:'Asia/Kolkata'}));
      document.getElementById('mumbai-time').textContent = mumbai.toTimeString().split(' ')[0];
    }

    // ---------- OPTIONAL: Form No. 2 availability (opens 2 days after event end) ----------
    // Update these per-month:
    const currentEventConfig = {
      name: '305 Hack Edition — Nov 2025',
      endDate: '2025-11-16',            // event end date
      registrationClose: '2025-12-01',  // donations/registration close date
      form2Url: 'https://your-form2-nov2025.example' // TODO: replace with live Form No. 2 URL
    };

    const d = s => { const [y,m,day]=s.split('-').map(Number); return new Date(y,m-1,day); };
    function daysUntil(date){ const t=new Date(); t.setHours(0,0,0,0); const d0=d(date); d0.setHours(0,0,0,0); return Math.ceil((d0 - t)/(1000*60*60*24)); }

    (function updateForm2Card(){
      const opensOn = new Date(d(currentEventConfig.endDate).getTime() + 2*24*60*60*1000);
      const closesOn = d(currentEventConfig.registrationClose);
      const now = new Date(); now.setHours(0,0,0,0);

      const link = document.getElementById('form2-link');
      const status = document.getElementById('form2-status');

      if (!link || !status) return;

      link.href = currentEventConfig.form2Url;

      if (now < opensOn){
        const days = daysUntil(opensOn.toISOString().slice(0,10));
        status.innerHTML =
          `<span class="badge badge-lock">Locked</span> Opens in <strong>${days} day${days===1?'':'s'}</strong> — ${opensOn.toLocaleDateString()}.`;
        link.setAttribute('aria-disabled','true');
        link.style.pointerEvents = 'none';
        link.style.opacity = '.7';
      } else if (now > closesOn){
        status.innerHTML =
          `<span class="badge badge-warn">Closed</span> Donations & registration closed on <strong>${closesOn.toLocaleDateString()}</strong>.`;
        link.setAttribute('aria-disabled','true');
        link.style.pointerEvents = 'none';
        link.style.opacity = '.7';
      } else {
        status.innerHTML =
          `<span class="badge badge-live">Live</span> Accepting donations & registrations until <strong>${closesOn.toLocaleDateString()}</strong>.`;
      }
    })();

    // Initialize page
    document.addEventListener('DOMContentLoaded', function () {
      renderHackathons();
      updateTimes();
      setInterval(updateTimes, 1000);         // live clocks
      setInterval(renderHackathons, 3600000); // refresh status hourly

      // Click/touch effects + smooth scroll
      const interactive = document.querySelectorAll('.card-button, .hackathon-link');
      interactive.forEach(el => {
        el.addEventListener('click', function(){ this.style.transform='scale(0.95)'; setTimeout(()=>{ this.style.transform=''; },150); });
        el.addEventListener('touchstart', function(){ this.style.opacity='0.9'; });
        el.addEventListener('touchend', function(){ this.style.opacity=''; });
      });

      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e){
          const targetSel = this.getAttribute('href');
          if (targetSel && targetSel !== '#') {
            e.preventDefault();
            const target = document.querySelector(targetSel);
            if(target){ target.scrollIntoView({ behavior:'smooth', block:'start' }); }
          }
        });
      });
    });
  </script>
</body>
</html>
