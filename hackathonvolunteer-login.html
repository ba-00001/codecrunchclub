<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Volunteer Login</title>
<style>
body { font-family: system-ui, Arial, sans-serif; max-width: 520px; margin: 6rem auto; padding: 0 1rem; }
.card { border: 1px solid #e5e7eb; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.04); }
label { display:block; margin-bottom: .5rem; font-weight: 600; }
input[type=email]{ width:100%; padding:.75rem; border:1px solid #d1d5db; border-radius:8px; }
button{ margin-top:1rem; padding:.75rem 1rem; border:none; border-radius:10px; cursor:pointer; }
.primary{ background:#111827; color:#fff; }
.msg{ margin-top:1rem; }
.ok{ color:#065f46; }
.err{ color:#991b1b; }
</style>
</head>
<body>
<div class="card">
<h1>Volunteer Login</h1>
<p>Enter the email you used to register. Weâ€™ll check it against our volunteer list.</p>
<label for="email">Email</label>
<input id="email" type="email" placeholder="you@example.com" required />
<button class="primary" id="btn">Continue</button>
<div class="msg" id="msg"></div>
</div>


<script>
const API_URL = "PASTE_APPS_SCRIPT_WEB_APP_URL_HERE"; // e.g. https://script.google.com/macros/s/AKfyc.../exec


document.getElementById('btn').addEventListener('click', async () => {
const email = document.getElementById('email').value.trim();
const msg = document.getElementById('msg');
msg.textContent = "";
if (!email) { msg.textContent = "Please enter your email."; msg.className = 'msg err'; return; }
try {
const res = await fetch(`${API_URL}?email=${encodeURIComponent(email)}`);
const data = await res.json();
if (data.allowed) {
// Simple client-side session (for demo). For production, set an httpOnly cookie via a server.
localStorage.setItem('volunteer_auth', 'true');
localStorage.setItem('volunteer_email', email);
msg.textContent = "Access granted. Redirecting...";
msg.className = 'msg ok';
// Redirect to your protected page
window.location.href = "/dashboard.html";
} else {
msg.textContent = "This email is not on the volunteer list. If you recently registered, give it a few minutes or contact an organizer.";
msg.className = 'msg err';
}
} catch (e) {
msg.textContent = "Error contacting server. Please try again.";
msg.className = 'msg err';
}
});
</script>
</body>
</html>