<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Volunteer Certificates ‚Ä¢ Code Crunch</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root{
      --matrix-green:#00e676;
      --cyber-blue:#00b0ff;
      --warning:#ffc107;
      --text-secondary:#4b5563;
      --text-light:#6b7280;
      --logo-h:52px; /* will be adjusted in the print tab */
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Google Sans','Roboto',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#f8f9fa;color:#202124;min-height:100vh}

    /* NAV */
    .navbar{background:#fff;border-bottom:1px solid #e8eaed;padding:12px 0;position:sticky;top:0;z-index:100}
    .nav-container{max-width:1100px;margin:0 auto;padding:0 20px;display:flex;justify-content:space-between;align-items:center}
    .nav-brand a{color:#4285f4;text-decoration:none;font-size:22px;font-weight:600}
    .nav-links{display:flex;gap:20px;flex-wrap:wrap}
    .nav-link{color:#5f6368;text-decoration:none;font-size:14px;padding:8px 12px;border-radius:6px}
    .nav-link:hover{background:#f1f3f4;color:#1a73e8}

    /* Timezone band */
    .timezone-section{background:#ffffff;border-bottom:1px solid #e8eaed;padding:24px 20px;margin-bottom:24px}
    .timezone-header{text-align:center;margin-bottom:18px}
    .timezone-header h2{color:#202124;font-size:24px;font-weight:600}
    .timezone-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:14px;max-width:1100px;margin:0 auto}
    .timezone-item{background:#ffffff;border:1px solid #dadce0;border-radius:8px;padding:14px;text-align:center;transition:all .2s ease}
    .timezone-item:hover{box-shadow:0 1px 6px rgba(32,33,36,.28)}
    .timezone-flag{font-size:18px;margin-bottom:6px}
    .timezone-time{font-size:16px;font-weight:600;color:#1a73e8;margin-bottom:4px;font-family:'Roboto Mono',monospace}
    .timezone-location{color:#5f6368;font-size:12px}

    /* Main */
    .container{max-width:1100px;margin:0 auto;padding:24px}
    .surface{background:#fff;border:1px solid #dadce0;border-radius:12px;padding:24px}
    .infobox{background:#f8f9fa;padding:1rem;border-radius:8px;border-left:4px solid #28a745;margin-bottom:1rem}
    .alert{padding:.75rem;border-radius:4px;border:1px solid}
    .alert-info{color:#0066cc;background:#e3f2fd;border-color:#bbdefb}
    .alert-error{color:#721c24;background:#f8d7da;border-color:#f5c6cb}
    .alert-ok{color:#155724;background:#d4edda;border-color:#c3e6cb}

    /* Generator UI */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .cg-row{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:1rem}
    .cg-input{flex:1 1 300px;padding:.75rem;border-radius:8px;border:2px solid #ddd;background:#fff;color:#333;font-size:1rem;font-family:"Courier New",monospace}
    .cg-btn{padding:.75rem 1.5rem;font-size:1rem;background:#007bff;color:#fff;border:0;border-radius:8px;cursor:pointer;font-family:"Courier New",monospace;font-weight:bold;transition:all .3s ease}
    .cg-btn[disabled]{opacity:.6;cursor:not-allowed}

    /* CERTIFICATE PAGE */
    .certificate-page{
      background:#fff;border:8px solid #B8860B;border-radius:10px;color:#333;
      font-family:"Times New Roman",serif;margin:0 auto 24px;box-sizing:border-box;
      width:1123px;height:794px;padding:40px;
      display:flex;flex-direction:column;page-break-inside:avoid;
      position:relative;
    }
    .certificate-page h1{font-size:3.5rem;font-weight:700;margin-bottom:.5rem;letter-spacing:3px;color:#333}
    .certificate-page .sub{font-size:1.2rem;color:#666;letter-spacing:4px}
    .presented{font-style:italic;margin:30px 0;font-size:1.1rem;text-align:center}
    .participant-name{font-size:3rem;font-weight:700;margin:40px 0;font-style:italic;text-align:center}
    .body-text{font-size:1.1rem;line-height:1.8;margin:30px 0;color:#555;text-align:center}
    .hack-logo{position:absolute;top:30px;right:30px;max-width:150px;max-height:80px;object-fit:contain}

    .content-wrap{flex:1 1 auto;min-height:0}
    .cert-bottom{margin-top:auto}

    /* Signature + ID + Logos */
    .sig-block{text-align:center;max-width:360px;margin:0 auto}
    .sig-img{max-height:75px;object-fit:contain;margin:0 auto 6px;display:block}
    .signature-script{font-family:'Great Vibes', cursive;font-size:2.1rem;line-height:1;transform:rotate(-2deg);color:#222;letter-spacing:.5px;margin-bottom:10px}
    .sig-line{border-top:2px solid #333;width:260px;margin:0 auto 8px}
    .cert-id{font-family:"Courier New", monospace;font-size:.9rem;color:#555;margin-top:6px}

    /* ONE-ROW LOGOS (auto-shrink) */
    .logo-grid{
      display:flex;
      flex-wrap:nowrap;
      justify-content:space-between;
      gap:12px;
      align-items:center;
      margin-top:10px;
      margin-bottom:0;
    }
    .logo-grid img{
      width:auto;
      max-width:100%;
      height:auto;
      max-height:var(--logo-h, 52px);
      object-fit:contain;
      page-break-inside:avoid;break-inside:avoid;
    }

    .sig-gap{height:24px;}

    /* PRINT */
    @page { size: A4 landscape; margin: 10mm; }
    @media print{
      body{background:#fff!important}
      .navbar,.timezone-section,.footer,.surface > *:not(#certificate-generator){display:none!important}
      .container{max-width:none;padding:0}
      .certificate-page{
        width:277mm!important;height:190mm!important;
        border:8mm solid #B8860B!important;border-radius:0!important;padding:15mm!important;margin:0!important;
        display:flex;flex-direction:column;
      }
      .content-wrap{flex:1 1 auto;min-height:0}
      .cert-bottom{margin-top:auto}
      .hack-logo{top:8mm!important;right:8mm!important;max-width:30mm!important;max-height:18mm!important}
      .certificate-page h1{font-size:16mm!important}
      .certificate-page .sub{font-size:4mm!important}
      .participant-name{font-size:12mm!important}
      .presented,.body-text{font-size:3.5mm!important}
      .signature-script{font-size:8mm!important}
      .sig-line{width:70mm!important}
      .cert-id{font-size:3.2mm!important}
      .sig-gap{height:10mm!important;}
      .sig-img{max-height:14mm!important;}
      .logo-grid{gap:8px;}
    }

    /* Footer */
    .cc-blue{background:#1a73e8}
    .footer{color:#fff;padding:32px 0 48px 0;margin-top:40px}
    .footer-container{max-width:1200px;margin:0 auto;padding:0 20px}
    .footer-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:24px;margin-bottom:32px}
    .footer h3{font-size:18px;font-weight:500;margin-bottom:16px;color:#fff}
    .footer p{font-size:14px;opacity:.9;margin-bottom:16px;line-height:1.5}
    .footer ul{list-style:none;padding:0;margin:0}
    .footer li{margin-bottom:8px}
    .footer a{color:#fff;text-decoration:none;font-size:14px;opacity:.9;transition:opacity .2s ease}
    .footer a:hover{opacity:1}
    .social-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:16px}
    .social-link{display:flex;flex-direction:column;align-items:center;color:#fff;text-decoration:none;padding:8px;transition:color .2s ease}
    .social-link:hover{color:#fbbf24}
    .social-link i{font-size:18px;margin-bottom:4px}
    .social-link span{font-size:11px;text-align:center}
    .footer-bottom{margin-top:32px;padding-top:24px;border-top:1px solid rgba(255,255,255,.2);text-align:center}
    .footer-bottom p{font-size:14px;opacity:.9;margin-bottom:8px}
    .footer-bottom .credits{font-size:12px;opacity:.85}
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-brand">
        <a href="https://HackUniversity.vercel.app" target="_blank" rel="noopener"><strong>Hack University Initiative</strong></a>
      </div>
      <div class="nav-links">
        <a href="https://codecrunchglobal.vercel.app" class="nav-link">Code Crunch Worldwide</a>
        <a href="https://gdgatfiu.vercel.app/" class="nav-link">Google Developer Group at FIU</a>
        <a href="https://colorstackatfiu.vercel.app/" class="nav-link">ColorStack at FIU</a>
        <a href="https://cahsiatfiu.vercel.app/" class="nav-link">CAHSI at FIU</a>
        <a href="https://raspberrypicrunch.vercel.app/" class="nav-link">Raspberry Pi Code Crunch</a>
        <a href="https://codecrunchglobal.vercel.app/hackuniversitydonate.html" class="nav-link">Support Us</a>
      </div>
    </div>
  </nav>

  <!-- TIMEZONE BAND -->
  <div class="timezone-section">
    <div class="timezone-header"><h2>üèÜ Hackathon HQ</h2></div>
    <div class="timezone-grid">
      <div class="timezone-item"><div class="timezone-flag">üá∫üá∏ - HQ</div><div class="timezone-time" id="miami-time">--:--:--</div><div class="timezone-location">Miami, FL (ET)</div></div>
      <div class="timezone-item"><div class="timezone-flag">üá™üá∫</div><div class="timezone-time" id="london-time">--:--:--</div><div class="timezone-location">London (GMT)</div></div>
      <div class="timezone-item"><div class="timezone-flag">üåç</div><div class="timezone-time" id="lagos-time">--:--:--</div><div class="timezone-location">Lagos (WAT)</div></div>
      <div class="timezone-item"><div class="timezone-flag">üåè</div><div class="timezone-time" id="tokyo-time">--:--:--</div><div class="timezone-location">Tokyo (JST)</div></div>
      <div class="timezone-item"><div class="timezone-flag">üá¶üá∫</div><div class="timezone-time" id="sydney-time">--:--:--</div><div class="timezone-location">Sydney (AEDT)</div></div>
      <div class="timezone-item"><div class="timezone-flag">üáÆüá≥</div><div class="timezone-time" id="mumbai-time">--:--:--</div><div class="timezone-location">Mumbai (IST)</div></div>
    </div>
  </div>

  <main class="container">
    <!-- CERTIFICATE GENERATOR -->
    <section class="surface" id="certificate-generator">
      <h2 class="card-title" style="text-align:center">GENERATE YOUR CERTIFICATE ‚Ä¢ Hack Fiesta Miami Edition Feb 2026 Session A & B</h2>
      <p class="card-description" style="text-align:center">[ OFFICIAL CERTIFICATE ] ‚Äî Download your volunteer certificate using your registered email address</p>

      <label for="certificateEmailInput" class="sr-only">Registered email address</label>
      <div class="cg-row">
        <input type="email" id="certificateEmailInput" class="cg-input" placeholder="Enter your registered email address" autocomplete="email"/>
        <button id="generateBtn" class="cg-btn" onclick="generateCertificate()">üèÜ Generate Certificate</button>
      </div>

      <div id="certificateResult" class="surface" aria-live="polite" aria-atomic="true" style="margin-top:1rem"></div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="cc-blue footer">
    <div class="footer-container">
      <div class="footer-grid">
        <div>
          <h3>Hack University</h3>
          <p>A collaborative effort uniting student organizations and global communities to empower innovators, developers, and leaders.</p>
          <p><a href="https://hackuniversity.vercel.app">HackUniversity.vercel.app</a></p>
          <div>
            <h4 style="font-size:14px;font-weight:500;margin-bottom:12px;">Connect With Us:</h4>
            <div class="social-grid">
              <a href="https://hackuniversity-linkedin.vercel.app" class="social-link"><i class="fab fa-linkedin"></i><span>LinkedIn</span></a>
              <a href="https://www.instagram.com/codecrunchclub/" class="social-link"><i class="fab fa-instagram"></i><span>Instagram</span></a>
              <a href="https://github.com/CODE-CRUNCH-CLUB" class="social-link"><i class="fab fa-github"></i><span>GitHub</span></a>
              <a href="https://www.youtube.com/@CODECRUNCH-WORLDWIDE" class="social-link"><i class="fab fa-youtube"></i><span>YouTube</span></a>
              <a href="https://hackuniversity-registration.vercel.app" class="social-link"><i class="fab fa-discord"></i><span>Discord</span></a>
              <a href="https://hackuniversity-calendar.vercel.app" class="social-link"><i class="far fa-calendar-alt"></i><span>Calendar</span></a>
            </div>
          </div>
        </div>
        <div>
          <h3>Quick Links</h3>
          <ul>
            <li><a href="#">Mission</a></li><li><a href="#">Events</a></li><li><a href="#">Hackathons</a></li>
            <li><a href="#">Membership</a></li><li><a href="#">Join E-Board</a></li><li><a href="#">Resources</a></li><li><a href="#">Join Discord</a></li>
          </ul>
        </div>
        <div>
          <h3>Contact</h3>
          <div style="font-size:14px;opacity:.9;">
            Miami, FL<br/>
            <a href="mailto:codecrunchclub@gmail.com">codecrunchclub@gmail.com</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>¬© <span id="year"></span> Hack University. All rights reserved.</p>
        <div class="credits">Built with ‚ù§Ô∏è for the tech community by <a href="#" target="_blank">Brian Bazurto</a></div>
      </div>
    </div>
  </footer>

  <script>
    /* ===== Settings ===== */
    const CERT_API_URL = 'https://script.google.com/macros/s/AKfycbxr9fQ9go_Wh6Cdd4RFpzkKDyNIJjEHc6LeGNrUoyXqA0i2z8LVS5O4Ui70QB2OHJQ/exec';
    const DEFAULT_LOGOS = [
      "https://github.com/user-attachments/assets/223a12cb-c5ea-4009-a442-2ad144c8e1d6",
      "https://github.com/user-attachments/assets/f62d5d75-d45f-4c01-b444-1c99a4031e27",
      "https://github.com/user-attachments/assets/c4f4805e-db3b-47a2-9a7f-0b124a66dd85",
      "https://github.com/user-attachments/assets/c9298abf-c85b-4ff8-8b92-e7f38ddcc846",
      "https://github.com/user-attachments/assets/5e2a6622-9702-438f-bb6b-25d8e894839e",
      "https://github.com/user-attachments/assets/c4f4805e-db3b-47a2-9a7f-0b124a66dd85",
      "https://github.com/user-attachments/assets/1eaf8425-7b4b-4035-a84b-b9b0ed28c52c"
    ];
    const SIGNATURE_URL = "https://github.com/user-attachments/assets/02be41eb-2259-4d6d-9a07-1122f79d6f4b";

    /* ===== Helpers ===== */
    const esc = s => String(s ?? '').replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    function rolesToText(roles, rolesText){ if(rolesText) return String(rolesText); if(Array.isArray(roles)) return roles.join(', '); return roles || 'Contributor'; }
    function normalizeCert(cert){
      return {
        participantName: esc(cert?.participantName || 'Participant'),
        hackathonName: esc(cert?.hackathonName || 'Hackathon'),
        date: esc(cert?.date || 'Date'),
        location: esc(cert?.location || 'Location'),
        rolesText: esc(rolesToText(cert?.roles, cert?.rolesText)),
        hackLogoUrl: cert?.hackLogoUrl || '',
        logos: Array.isArray(cert?.logos) ? cert.logos : null,
        signatureUrl: cert?.signatureUrl || SIGNATURE_URL
      };
    }
    function certHash(name, eventName, dateStr){
      const s = `${name}|${eventName}|${dateStr}`; let h = 0x811c9dc5;
      for(let i=0;i<s.length;i++){ h ^= s.charCodeAt(i); h = (h + ((h<<1)+(h<<4)+(h<<7)+(h<<8)+(h<<24))) >>> 0; }
      return ('00000000' + h.toString(16)).slice(-8).toUpperCase();
    }
    function logosHTML(logoUrls){
      const arr = logoUrls && logoUrls.length ? logoUrls : DEFAULT_LOGOS;
      return arr.map(u=>`<img src="${u}" alt="Partner Logo" onerror="this.style.display='none'">`).join('');
    }
    function infoBoxHTML(){
      return `<div class="infobox"><strong style="color:#28a745">Certificate Generator:</strong><br>‚Ä¢ Official Certificates for confirmed participants<br>‚Ä¢ Use your registered email<br>‚Ä¢ Opens a clean tab for Print / Save as PDF</div>`;
    }
    function setStatus(type, html){
      const el = document.getElementById('certificateResult');
      const cls = type==='ok'?'alert-ok':type==='error'?'alert-error':'alert-info';
      el.innerHTML = infoBoxHTML() + `<div class="alert ${cls}">${html}</div>`;
    }
    function toggleButton(loading){
      const btn = document.getElementById('generateBtn');
      if(!btn) return; btn.disabled=!!loading; btn.textContent = loading ? 'Checking‚Ä¶' : 'Generate Certificate';
    }

    /* ===== Certificate page ===== */
    function certPageHTML(c){
      const hash8 = certHash(c.participantName, c.hackathonName, c.date);
      const idText = `CC-${(c.date||'').replace(/[^0-9]/g,'').slice(0,8)}-${hash8}`;
      return `
      <section class="print-page">
        <div class="certificate-page">
          ${c.hackLogoUrl ? `<img src="${c.hackLogoUrl}" alt="Hack Logo" class="hack-logo" onerror="this.style.display='none'">` : ''}

          <div class="content-wrap">
            <div style="text-align:center;margin-bottom:40px">
              <h1>CERTIFICATE</h1>
              <p class="sub">OF RECOGNITION</p>
            </div>

            <p class="presented">This certificate is presented to</p>
            <h2 class="participant-name">${c.participantName}</h2>

            <div class="body-text">
              <p>In recognition of your outstanding contributions as a <strong>${c.rolesText}</strong> at the
              <strong>${c.hackathonName}</strong>, held in <strong>${c.location}</strong> on <strong>${c.date}</strong>.<em> Your insights helped shape a fair and impactful competition experience for all participants.</em></p>
              <br>
            </div>
          </div>

          <div class="cert-bottom">
            <div class="sig-gap"></div>
            <div class="sig-block">
              ${ c.signatureUrl
                  ? `<img class="sig-img" src="${c.signatureUrl}" alt="Signature" onerror="this.style.display='none'">`
                  : `<div class="signature-script">Brian Bazurto</div>`
              }
              <div class="sig-line"></div>
              <div style="font-size:.95rem;font-weight:700;margin-top:6px;">BRIAN BAZURTO</div>
              <div style="font-size:.9rem;font-style:italic">Code Crunch President</div>
              <div style="font-size:.9rem;font-style:italic">Hack University Initiative</div>
              <div class="cert-id">Cert ID: ${idText}</div>
            </div>

            <div class="logo-grid">${logosHTML(c.logos)}</div>
          </div>
        </div>
      </section>`;
    }

    function openCertificatesInNewTab(certs, autoPrint=true){
      const css = document.querySelector('style')?.innerHTML || '';
      const head = `
        <meta charset="utf-8">
        <title>Certificates</title>
        <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
        <style>${css}</style>`;
      const pages = certs.map(certPageHTML).join('');
      const html = `<!DOCTYPE html><html><head>${head}</head><body><div id="root">${pages}</div>
        <script>(function(){
          function waitImgs(){
            const imgs=[...document.images].filter(x=>!x.complete||x.naturalWidth===0);
            if(!imgs.length) return Promise.resolve();
            return Promise.all(imgs.map(im=>new Promise(r=>{im.onload=im.onerror=()=>r();})));
          }
          function fitLogos(){
            document.querySelectorAll('.logo-grid').forEach(grid=>{
              const n = grid.querySelectorAll('img').length || 1;
              const gap = parseFloat(getComputedStyle(grid).gap)||12;
              const w = grid.clientWidth || 600;
              const perW = (w - gap*(n-1)) / n;
              const h = Math.max(16, Math.min(52, Math.floor(perW * 0.55)));
              grid.style.setProperty('--logo-h', h + 'px');
            });
          }
          function afterLayout(){
            fitLogos();
            ${autoPrint ? 'window.print();' : ''}
          }
          window.addEventListener('resize', fitLogos);
          waitImgs().then(afterLayout);
          setTimeout(fitLogos, 0);
        })();<\/script>
      </body></html>`;

      const w = window.open('', '_blank', 'width=1300,height=900,scrollbars=yes,resizable=yes');
      if(!w){ alert('Please allow pop-ups to view/print your certificate.'); return; }
      w.opener = null; w.document.open(); w.document.write(html); w.document.close();
    }

    /* ===== Generate flow ===== */
    async function generateCertificate(){
      const email = document.getElementById('certificateEmailInput').value.trim();
      if(!email){
        setStatus('error','Please enter your email address.');
        return;
      }
      if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)){
        setStatus('error','Please enter a valid email address.');
        return;
      }

      setStatus('info','Checking for available certificates...');
      toggleButton(true);

      try {
        // ‚úÖ IMPORTANT: use location.origin so referer passes backend startsWith()
        const res = await fetch(
          `${CERT_API_URL}?email=${encodeURIComponent(email)}&referer=${encodeURIComponent(location.origin)}`
        );
        const payload = await res.json();

        if (payload?.error) {
          setStatus('error', esc(payload.error));
          return;
        }

        const certs = Array.isArray(payload?.certificates) ? payload.certificates : [];

        if (!certs.length) {
          const msg = payload?.message || 'No record was found for the email address provided. If you believe this is an error, please message us on LinkedIn so our team can assist.';
          setStatus('error', esc(msg));
          return;
        }

        const available = certs.filter(c => c.status === 'Certificate Available' && c.certificateData);
        const blocked = certs.filter(c => c.status === 'Certificate Not Available');

        // ‚úÖ verified wins
        if (available.length > 0) {
          const normalized = available.map(c => normalizeCert(c.certificateData));
          const ticketIds = [...new Set(available.map(c => c.ticketId).filter(Boolean))];

          setStatus('ok', `
            <strong>Certificate Ready</strong><br><br>
            <div><strong>Ticket ID${ticketIds.length > 1 ? 's' : ''}:</strong> ${ticketIds.map(id => `<code>${esc(id)}</code>`).join(', ')}</div>
            <div style="margin-top:8px">Your certificate will now open in a new tab for download or printing.</div>
          `);

          openCertificatesInNewTab(normalized, true);
          return;
        }

        // ‚ùå all blocked
        if (blocked.length === certs.length) {
          const b = blocked[0];
          const nextSteps = String(b.nextStepsMessage || '');

          setStatus('error', `
            <strong>${esc(b.message)}</strong><br><br>
            <div><strong>Ticket ID:</strong> ${esc(b.ticketId || 'N/A')}</div>
            <pre style="white-space:pre-wrap;font-family:inherit;margin-top:12px">${esc(nextSteps)}</pre>
          `);
          return;
        }

        setStatus('error', 'Unable to determine certificate status.');

      } catch (err) {
        console.error(err);
        setStatus('error','Failed to check records. Please try again later.');
      } finally {
        toggleButton(false);
      }
    }

    /* ===== Clocks + init ===== */
    function updateTimes(){
      const now=new Date();
      const set=(id,tz)=>{
        const t=new Date(now.toLocaleString("en-US",{timeZone:tz}));
        const hh=String(t.getHours()).padStart(2,'0');
        const mm=String(t.getMinutes()).padStart(2,'0');
        const ss=String(t.getSeconds()).padStart(2,'0');
        const el=document.getElementById(id);
        if(el) el.textContent=`${hh}:${mm}:${ss}`;
      };
      set('miami-time',"America/New_York");
      set('london-time',"Europe/London");
      set('lagos-time',"Africa/Lagos");
      set('tokyo-time',"Asia/Tokyo");
      set('sydney-time',"Australia/Sydney");
      set('mumbai-time',"Asia/Kolkata");
    }
    document.addEventListener('DOMContentLoaded', ()=>{
      document.getElementById('year').textContent = new Date().getFullYear();
      document.getElementById('certificateResult').innerHTML = infoBoxHTML() + 'Enter your email above to check for available certificates...';
      document.getElementById('certificateEmailInput')?.addEventListener('keydown', e=>{ if(e.key==='Enter') generateCertificate(); });
      updateTimes(); setInterval(updateTimes, 1000);
    });
  </script>
</body>
</html>
